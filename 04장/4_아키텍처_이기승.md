# 아키텍처

# MySQL 엔진 아키텍처
- MySQL 엔진
  - 구성
    - 커넥션 핸들러
    - SQL 인터페이스
    - SQL 파서 및 전처리기
    - 옵티마이저
    - 캐시 및 버퍼
- 스토리지 엔진
  - MySQL은 스토리지 엔진을 통해 데이터를 저장하고 관리한다.
  - 스토리지 엔진은 MySQL 서버와 데이터베이스 파일 간의 인터페이스 역할을 한다.
  - InnoDB
    - MySQL 5.5 버전부터 기본 스토리지 엔진으로 사용된다.
    - 트랜잭션 처리와 복구 기능을 제공한다.
    - 테이블 락을 최소화하기 위해 다중 버전 동시성 제어(MVCC)를 사용한다.
  - MyISAM
    - MySQL 5.5 버전 이전에 기본 스토리지 엔진으로 사용되었다.
    - 테이블 락을 사용한다.
    - 풀 텍스트 인덱스를 지원한다.
  - Memory
    - 메모리에 데이터를 저장한다.
    - 데이터베이스를 재시작하면 데이터가 사라진다.
- 핸들러 API
  - 핸들러(Handler) 요청
    - MySQL 엔진의 쿼리 실행계에서 데이터를 쓰거나 읽어야 할 때는 각 스토리지 엔진에 쓰기 또는 읽기를 요청한다. 
    - 이때 MySQL 엔진과 스토리지 엔진 간의 데이터 교환을 위해 사용하는 API가 핸들러 API이다.
  - InnoDB 스토리지 엔진 또한 이 핸들러 API를 이용해 MySQL 엔진과 데이터를 주고받는다. 
  - 핸들러 API를 통해 얼마나 많은 데이터(레코드) 작업이 있었는지는 SHOW GLOBAL STATUS LIKE 'Handler%'; 명령으로 확인할 수 있다.